@model AracKiralamaPortal.ViewModels.LoginViewModel

<link href="~/css/site.css" rel="stylesheet" />
<link href="~/css/sign.css" rel="stylesheet" />

<div class="login-page">
    <div class="login-card glass-card">
        <h2 class="login-title">Giriş Yap</h2>

        <form asp-action="Login" method="post" id="loginForm">
            <div class="input-group">
                <label>Kullanıcı Adı veya Email</label>
                <input asp-for="UsernameOrEmail" class="input-field" placeholder="Kullanıcı adı veya email" />
            </div>

            <div class="input-group password-group">
                <label>Şifre</label>
                <input asp-for="Password" type="password" class="input-field" id="loginPassword" placeholder="Şifre" />
                <span class="toggle-password" id="toggleLoginPassword">
                    <i class="fa-solid fa-eye"></i>
                </span>
            </div>

            <button type="submit" class="btn-glass">Giriş Yap</button>

            <div class="text-danger mt-2">
                @Html.ValidationSummary(false)
            </div>

            @if (ViewBag.Error != null)
            {
                <div class="alert alert-danger mt-2">@ViewBag.Error</div>
            }
        </form>
    </div>
</div>

@section Scripts {
    <script>
        const loginPwd = document.getElementById("loginPassword");
        const togglePwd = document.getElementById("toggleLoginPassword");

        togglePwd.addEventListener("click", function () {
            const type = loginPwd.getAttribute("type") === "password" ? "text" : "password";
            loginPwd.setAttribute("type", type);
            this.innerHTML = type === "password"
                ? '<i class="fa-solid fa-eye"></i>'
                : '<i class="fa-solid fa-eye-slash"></i>';
        });
    </script>
}
